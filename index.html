<!DOCTYPE html>
<html>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<title>SRQ Questionnaire</title>
<style>
/* Basic CSS for layout and appearance */
body {
  font-family: sans-serif;
  margin: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: #FFFDF6; /* Changed body background color */
}

header {
  background-color: #504B38;
  color: white;
  padding: 20px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1.2em;
}

nav ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
}

nav li {
  margin-left: 20px;
}

nav a {
  color: white;
  text-decoration: none;
}

.container {
  width: 60%;
  max-width: 700px;
  margin: auto;
  padding: 20px;
  border: 1px solid #ccc;
  text-align: center;
  background-color: #FAF6E9; /* Changed container background color */
  box-sizing: border-box; /* Include padding and border in the height */
  display: flex; /* Use flexbox for vertical centering */
  flex-direction: column; /* Stack content vertically */
  justify-content: center; /* Vertically center the content */
}

.container.initial {
  height: 550px; /* Set a higher height for the initial form if needed */
}

.container.questionnaire {
  min-height: 300px;
  height: 300px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.question-number {
  text-align: center; /* Center align the question number */
  margin-bottom: 10px; /* Add margin for spacing */
}

.question-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1; /* Allow the question to take available space to help center it */
}

.question {
  max-height: 75px;
  overflow-y: auto;
  text-align: center;
}

.options {
  text-align: center;
  padding-bottom: 20px;
}

#form-container {
  display: inline-block;
  text-align: left;
  width: 80%; /* Make the form wider */
  margin: 0 auto; /* Center the form horizontally */
}

input[type="text"],
input[type="number"],
input[type="tel"],
select {
  width: 100%;
  padding: 8px;
  margin: 8px 0;
  box-sizing: border-box;
}

button {
  background-color: #4CAF50;
  color: white;
  padding: 10px 20px;
  border: none;
  cursor: pointer;
  display: block;
  margin: 20px auto;
  font-size: 1.1em;
  transition: background-color 0.3s ease; /* Smooth transition for hover effect */
}

button:hover {
  background-color: #367c39; /* Darken the color on hover */
}

.question {
  font-size: 1.2em;
  margin-bottom: 20px;
  display: inline-block; 
  width: 100%;
  max-height: 75px; /* Set a maximum height */
  overflow-y: auto; /* Enable vertical scrolling if needed */
  margin-top: 20px;
  margin-bottom: 20px;
}

.options {
  text-align: center; /* Center the options buttons */
  padding-bottom: 20px; /* Add padding below the buttons */
}

.options button:first-child,
.options button:last-child {
  background-color: #4CAF50; /* Green */
  color: white;
  border: none;
  padding: 10px 20px;
  margin: 5px;
  cursor: pointer;
  display: inline-block; /* Display buttons in a line */
  transition: background-color 0.3s ease; /* Smooth transition for hover effect */
  width: 90px; /* Set fixed width */
  margin-top: 20px; /* Add padding top to the buttons */
}

.options button:last-child {
  background-color: red; /* Red */
}

.options button:hover {
  background-color: #367c39; /* Darken the color on hover */
}

/* Hover effect for the "Tidak" button */
.options button:last-child:hover {
  background-color: #8B0000; /* Darken the red color on hover */
}

h2 {
  /* padding-top: 20px;  Add padding above the "Pertanyaan" text */
}

/* New styles for validation */
input.invalid,
select.invalid {
  border: 2px solid red; /* Highlight invalid input with red border */
}

input.valid,
select.valid {
  border-color: initial; /* Reset border without changing background */
}

</style>
</head>
<body>

<header>
  <div class="logo">testtest.com</div>
  <nav>
    <ul>
      <li><a href="#">SRQ20</a></li>
      <li><a href="#">SRQ29</a></li>
      <li><a href="#">SDQ</a></li>
      <li><a href="#">About Us</a></li>
    </ul>
  </nav>
</header>

<div class="container initial">
  <h1>SRQ 20 Questionnaire</h1>
  <h2>Isilah jawabannya sesuai dengan perasaan anda.</h2>

<div id="form-container">
  <form id="initial-form" novalidate>
    <input type="text" id="nama" name="nama" placeholder="Nama" required><br>
    <select id="jenis_kelamin" name="jenis_kelamin" required>
      <option value="">Pilih Jenis Kelamin</option>
      <option value="pria">Pria</option>
      <option value="wanita">Wanita</option>
    </select><br>
    <input type="number" id="usia" name="usia" placeholder="Usia (mulai dari 17 tahun)" min="17" required><br>
    <input type="text" id="alamat" name="alamat" placeholder="Alamat" required><br>
    <input type="tel" id="no_hp" name="no_hp" placeholder="No HP/Whatsapp" pattern="[0-9]+" title="Please enter a valid phone number" required><br>
    <button type="button" onclick="validateAndStart()">Mulai</button>
  </form>
</div>

<script>
let questionIndex = 0;
let score = 0;

const questions = [
    "Apakah Anda sering merasa sakit kepala?",
    "Apakah Anda kehilangan nafsu makan?",
    "Apakah tidur Anda tidak nyenyak?",
    "Apakah Anda mudah merasa takut?",
    "Apakah Anda merasa cemas, tegang, atau khawatir?",
    "Apakah tangan Anda gemetar?",
    "Apakah Anda mengalami gangguan pencernaan?",
    "Apakah Anda merasa sulit berpikir jernih?",
    "Apakah Anda merasa tidak bahagia?",
    "Apakah Anda lebih sering menangis?",
    "Apakah Anda merasa sulit untuk menikmati aktivitas sehari-hari?",
    "Apakah Anda merasa kesulitan untuk mengambil keputusan?",
    "Apakah aktivitas/tugas sehari-hari Anda terbengkalai?",
    "Apakah Anda merasa tidak mampu berperan dalam kehidupan ini?",
    "Apakah Anda kehilangan minat terhadap banyak hal?",
    "Apakah Anda merasa tidak berharga?",
    "Apakah Anda mempunyai pikiran untuk mengakhiri hidup Anda?",
    "Apakah Anda merasa lelah sepanjang waktu?",
    "Apakah Anda merasa tidak enak di perut?",
    "Apakah Anda mudah lelah?"
];

function startQuestionnaire() {
  const container = document.querySelector('.container');
  container.classList.remove('initial');
  container.classList.add('questionnaire');
  document.getElementById('initial-form').style.display = 'none';
  loadQuestion();
}

function loadQuestion() {
  const container = document.querySelector('.container');
  container.innerHTML = `
    <div class="question-number">
      <h2>Pertanyaan ${questionIndex + 1} dari ${questions.length}</h2>
    </div>
    <div class="question-wrapper">
      <div class="question">${questions[questionIndex]}</div>
    </div>
    <div class="options">
      <button onclick="answerQuestion(0)">Ya</button>
      <button onclick="answerQuestion(1)">Tidak</button>
    </div>
  `;
}

function answerQuestion(answer) {
  if (answer === 0) { // Assuming "Ya" adds to the score
    score++;
  }

  questionIndex++;

  if (questionIndex < questions.length) {
    loadQuestion();
  } else {
    showResults();
  }
}

function showResults() {
  const container = document.querySelector('.container');
  let resultText = "Tidak masalah";
  if (score > 6) {
    resultText = "Ada masalah";
  }

  container.innerHTML = `
    <h2>Hasil</h2>
    <p>Skor Anda: ${score}</p>
    <p>${resultText}</p>
  `;
}

// alert

function validateAndStart() {
  const form = document.getElementById('initial-form');
  let isFormValid = true;

  form.querySelectorAll('input, select').forEach(input => {
    // Remove any existing validation classes
    input.classList.remove('invalid', 'valid');

    // Perform custom validation
    if (!input.value || (input.type === 'tel' && !input.value.match(/^[0-9]+$/))) {
      isFormValid = false;
      input.classList.add('invalid'); // Add invalid class if not valid
    } else {
      input.classList.add('valid'); // Add valid class if valid
    }
  });

  // Proceed only if the form is valid
  if (isFormValid) {
    startQuestionnaire(); // Implement your function here
  }
}

// Listening for input events to dynamically update validation
document.querySelectorAll('input, select').forEach(input => {
  input.addEventListener('input', () => {
    if(input.value) {
       input.classList.remove('invalid'); // Remove invalid state as user types if input is not empty
    }
  });
});
</script>

</body>
</html>
